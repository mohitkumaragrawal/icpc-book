// iterating over subsets
for (int x = mask;; x = (x - 1) & mask) {
  // Code here...
  if (x == 0) break;
}